.header {
    &--stuck {
        .header__top-fixed {
            backdrop-filter: saturate(160%) blur(4px);
            background-color: rgba(255, 255, 255, 0.425);
            border-bottom-color: rgba($blue-color, 0.4);
        }
        .header__top-item--extra {
            opacity: 1;
            visibility: visible;
            pointer-events: auto;
        }
    }

    &__top {
        padding: rem(16px) 0;
        display: flex;
        justify-content: space-between;
        align-items: center;
        white-space: nowrap;
        min-height: rem(60px);
        
        // Анимация для SVG логотипа
        &-logo {
            @include smooth-transition;
            
            svg {
                transition: transform $transition-normal;
                
                &:hover {
                    transform: scale(1.05);
                    
                    // Анимация волн в логотипе
                    path {
                        animation: pulse 2s ease-in-out infinite;
                    }
                }
            }
        }
        &-menu {
            display: flex;
            align-items: center;
            gap: 40px;
        }
        &-link {
            color: $text-color;
            font-size: rem(15px);
            @include smooth-transition;
            position: relative;
            text-decoration: none;
            
            // Красивое подчеркивание
            &::after {
                content: '';
                position: absolute;
                bottom: -5px;
                left: 0;
                width: 0;
                height: 2px;
                background: linear-gradient(90deg, $blue-color, #60a5fa);
                transition: width $transition-normal;
            }
            
            &:hover {
                @include link-hover;
                text-shadow: 0 2px 8px rgba($blue-color, 0.3);
                
                &::after {
                    width: 100%;
                }
            }
        }
        &-geo {
            font-size: rem(16px);
        }
    }
}

.header__top-fixed {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1000;
    backdrop-filter: saturate(140%) blur(0px);
    border-bottom: 1px solid $blue-color;
    max-width: 1440px;
    margin: 0 auto;
    border-radius: 10px;
}

/* Spacer so content doesn't jump when top is fixed */
.header {
    padding-top: var(--header-top-h, 0px);
}

.header__bottom {
    padding: 25px 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    min-height: rem(80px);
    &-logo {
        display: flex;
        align-items: center;
        font-size: rem(20px);
        gap: 10px;
        margin-bottom: 10px;
        @include smooth-transition;
        text-decoration: none;
        
        &:hover {
            transform: scale(1.02);
        }
    }
    
    &-box {
        display: flex;
        flex-direction: column;
    }
    &-phone {
        font-size: rem(19px);
        font-weight: 700;
        color: #2b2b2b;
    }
    &-consultation {
        font-size: rem(13px);
        color: $text-color;
    }
    &-work {
        font-size: rem(14px);
        font-weight: 300;
    }
    &-center {
        display: flex;
        align-items: center;
        gap: rem(40px);
        margin-left: rem(30px);
    }
    &-wrapper {
        display: flex;
        flex-direction: column;
        align-items: center;
        @include smooth-transition;
        
        &:hover {
            transform: translateY(-3px);
            
            .header__bottom-title {
                color: darken($blue-color, 10%);
                transform: scale(1.1);
            }
        }
    }
    &-title {
        font-size: rem(21px);
        color: $blue-color;
        font-weight: 800;
        @include smooth-transition;
    }
    &-text {
        font-size: rem(11px);
        font-weight: 400;
    }
    &-right {
        display: flex;
        flex-direction: column;
        gap: rem(10px);
    }
    &-boxe {
        display: flex;
        align-items: center;
        justify-content: end;
        gap: rem(10px);
    }
    &-link {
        text-decoration: none;
        @include smooth-transition;
        cursor: pointer;

        &--bg {
            background-color: $blue-color;
            padding: 15px 17px;
            color: #d1dfff;
            border-radius: 10px;
            font-size: rem(14px);
            font-weight: 500;
            
            &:hover {
                @include button-hover;
                background-color: darken($blue-color, 10%);
            }
        }
        
        &--border {
            padding: 13px 15px;
            border: 2px solid $blue-color;
            border-radius: 10px;
            font-size: rem(14px);
            font-weight: 500;
            color: $blue-color;
            background-color: transparent;
            
            &:hover {
                background-color: $blue-color;
                color: white;
                @include button-hover;
            }
        }
    }
    &-info {
        font-size: rem(12px);
        font-weight: 600;
        color: #22c42a;
        background-color: #45f74e10;
        border: 1px solid #0aaa12;
        padding: 3px 4px;
        border-radius: 4px;
    }
}

/* Extra header links hidden by default to avoid layout shift */
.header__top-item--extra {
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    transition: opacity $transition-normal, visibility $transition-normal;
}

/* Burger + mobile menu */
.header__burger {
  display: none;
  width: 38px; height: 28px; position: relative; border: 0; background: transparent; padding: 0; cursor: pointer;
  span { position: absolute; left: 0; right: 0; height: 3px; background: #0f172a; border-radius: 2px; transition: transform .25s, top .25s, opacity .25s; }
  span:nth-child(1){ top: 4px; }
  span:nth-child(2){ top: 12px; }
  span:nth-child(3){ top: 20px; }
  &.is-open span:nth-child(1){ top: 12px; transform: rotate(45deg); }
  &.is-open span:nth-child(2){ opacity: 0; }
  &.is-open span:nth-child(3){ top: 12px; transform: rotate(-45deg); }
}

.header__mobile { display: none; }
.header__mobile.is-open { display: block; position: fixed; inset: 0; background: rgba(0,0,0,.35); z-index: 999; }
.header__mobile-panel { position: absolute; top: var(--header-top-h, 60px); right: 10px; left: 10px; background: #ffffff; border: 1px solid rgba($blue-color,.2); border-radius: 14px; padding: 16px; box-shadow: 0 20px 60px rgba(0,0,0,.15); }
.header__mobile-list { list-style: none; margin: 0; padding: 0; display: grid; gap: 10px; }
.header__mobile-list a { text-decoration: none; color: #0f172a; font-weight: 700; display: block; padding: 12px 10px; border-radius: 10px; }
.header__mobile-list a:hover { background: #f1f5f9; }
.header__mobile-call { color: $blue-color !important; border: 2px solid rgba($blue-color,.25); text-align: center; }

/* Responsive */
@media (max-width: 1024px) {
  .header__top-menu { gap: 22px; }
  .header__bottom-center { gap: rem(20px); margin-left: 0; }
}

@media (max-width: 768px) {
  .header__top-nav { display: none; }
  .header__top-geo { display: none; }
  .header__burger { display: inline-block; }
  .header__bottom { flex-direction: column; align-items: flex-start; gap: 12px; }
  .header__bottom-right { width: 100%; }
  .header__bottom-boxe { justify-content: flex-start; flex-wrap: wrap; }
}

@media (max-width: 480px) {
  .header__bottom-title { font-size: rem(18px); }
  .header__bottom-text { font-size: rem(10px); }
  .header__bottom-phone { font-size: rem(17px); }
  .header__bottom-link--bg, .header__bottom-link--border { padding: 12px 14px; font-size: rem(13px); }
}